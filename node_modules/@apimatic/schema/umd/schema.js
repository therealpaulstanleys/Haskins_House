var e,r;e=this,r=function(e){"use strict";var r=function(){return r=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},r.apply(this,arguments)};function n(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n}function t(e){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,a,o=n.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(t=o.next()).done;)i.push(t.value)}catch(e){a={error:e}}finally{try{t&&!t.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function o(e,r,n){if(n||2===arguments.length)for(var t,a=0,o=r.length;a<o;a++)!t&&a in r||(t||(t=Array.prototype.slice.call(r,0,a)),t[a]=r[a]);return e.concat(t||Array.prototype.slice.call(r))}function i(e){for(var r=[],n=0;n<e.length;n++){var t=e[n];r.push([n,t])}return r}function u(e){for(var r=Object.keys(e),n=r.length,t=new Array(n);n--;)t[n]=[r[n],e[r[n]]];return t}function l(e){return"string"==typeof e?'"'+e.replace(/"/g,'"')+'"':""+e}function f(e){return e}function p(e){return function(r,n){return e(r,n.strictValidation)?[]:n.fail()}}function c(e){return n={type:function(){return e.type},validateBeforeMap:e.validate,validateBeforeUnmap:e.validate,map:e.map,unmap:e.map},r(r({},n),{validateBeforeMapXml:n.validateBeforeUnmap,mapXml:n.map,unmapXml:n.unmap});var n}function m(e,r){return r?"number"==typeof e:"number"==typeof e||"string"==typeof e&&!isNaN(e)}function v(e){return"number"==typeof e?e:+e}function y(e){return"bigint"==typeof e?e:BigInt(e)}function d(e,r){var n=new Set(r),t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&!n.has(a)&&(t[a]=e[a]);return t}function h(e){return-1!==e.indexOf(" ")?l(e):e}function s(e){return null==e}function b(e,r){return e.startsWith("Optional<")&&void 0===r}function X(e,r){return function(e){return e.startsWith("Optional<Nullable<")||e.startsWith("Nullable<Optional<")}(e)&&s(r)}function B(e,r,n){return{value:e,type:r,branch:[e],path:[],strictValidation:n}}function g(e){var n=function(r,n,t){return g({value:n,type:t.type(),branch:o(o([],a(e.branch)),[n]),path:o(o([],a(e.path)),[r]),strictValidation:e.strictValidation})},i=function(e,r,t){return e.map((function(e){return t(e,n(e[0],e[1],r))}))};return r(r({},e),{createChild:n,flatmapChildren:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(e){var r,n,a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;try{for(var p=(a=void 0,t(f)),c=p.next();!c.done;c=p.next()){var m=c.value;i.push(m)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return i}(i.apply(void 0,o([],a(e))))},mapChildren:i,fail:function(r){return[{value:e.value,type:e.type,branch:e.branch,path:e.path,message:j(e,r)}]}})}function j(e,r){var n=JSON.stringify(e.value,(function(e,r){return"bigint"==typeof r?r.toString():r}));return r=(null!=r?r:"Expected value to be of type '"+e.type+"' but found '"+typeof e.value+"'.")+"\n\nGiven value: "+n+"\nType: '"+typeof e.value+"'\nExpected type: '"+e.type+"'",e.path.length>0&&(r+="\nPath: "+e.path.map((function(e){return h(e.toString())})).join(" â€º ")),r}function x(e,r,n){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return w(i,n)}function M(e,r,n){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return w(i,n)}function O(e,r,n){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return w(i,n)}function w(e,r){return e.length>0?[]:r.fail("Could not match against any acceptable type.")}function S(e,r,n){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].map(r,n):void 0}function A(e,r,n){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].unmap(r,n):void 0}function U(e,r,n){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].mapXml(r,n):void 0}function N(e,r,n){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].unmapXml(r,n):void 0}function P(e,r){return r?"bigint"==typeof e:"bigint"==typeof e||"number"==typeof e||"string"==typeof e&&/^-?\d+$/.test(e)}function C(e,r){return r?"boolean"==typeof e:"boolean"==typeof e||"string"==typeof e&&("true"===e||"false"===e)}function T(e,r){return null==e||e===r}function $(e){var r=function(r,n,t){if("object"!=typeof n||null===n)return t.fail();var a=n;return t.flatmapChildren(u(a),e,(function(n,t){return e[r](n[1],t)}))};return{type:function(){return"Record<string,"+e.type()+">"},validateBeforeMap:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r.apply(void 0,o(["validateBeforeMap"],a(e)))},validateBeforeUnmap:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r.apply(void 0,o(["validateBeforeUnmap"],a(e)))},map:function(r,n){var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var o=r[a];t[a]=e.map(o,n.createChild(a,o,e))}return t},unmap:function(r,n){var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var o=r[a];t[a]=e.unmap(o,n.createChild(a,o,e))}return t},validateBeforeMapXml:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r.apply(void 0,o(["validateBeforeMapXml"],a(e)))},mapXml:function(r,n){var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var o=r[a];t[a]=e.mapXml(o,n.createChild(a,o,e))}return t},unmapXml:function(r,n){var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var o=r[a];t[a]=e.unmapXml(o,n.createChild(a,o,e))}return t}}}function E(e){var r=V(e,!1,!1);return r.type=function(){return"StrictObject<{"+Object.keys(e).map(h).join(",")+"}>"},r}function k(e){return V(e,!0,!0)}function I(e){var r=V(e,!0,!1);return r.type=function(){return"Object<{"+Object.keys(e).map(h).join(",")+"}>"},r}function V(e,r,n){var t=Object.keys(e),o=J(e),i=function(e){var r,n,t={},o={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=a(e[i],3),l=u[0],f=u[2];!0===(null==f?void 0:f.isAttr)?o[null!==(r=f.xmlName)&&void 0!==r?r:l]=i:t[null!==(n=null==f?void 0:f.xmlName)&&void 0!==n?n:l]=i}return{elementsToProps:t,attributesToProps:o}}(e),u=function(e){var r,n={},t={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a(e[o],3),u=i[0],l=i[1],f=i[2];((null==f?void 0:f.isAttr)?t:n)[o]=[null!==(r=null==f?void 0:f.xmlName)&&void 0!==r?r:u,l,f]}return{elementsSchema:n,attributesSchema:t}}(e),l=function(e){return{attributesSchema:J(e.attributesSchema),elementsSchema:J(e.elementsSchema)}}(u);return{type:function(){return"Object<{"+t.map(h).join(",")+",...}>"},validateBeforeMap:D(e,"validateBeforeMap",r),validateBeforeUnmap:D(o,"validateBeforeUnmap",r),map:G(e,"map",n),unmap:G(o,"unmap",n),validateBeforeMapXml:W(e,i,r),mapXml:L(u,n),unmapXml:_(l,n),objectSchema:e}}function W(e,r,t){var i=r.elementsToProps,u=r.attributesToProps;return function(r,l){if("object"!=typeof r||null===r)return l.fail();if(Array.isArray(r))return l.fail("Expected value to be of type '"+l.type+"' but found 'Array<"+typeof r+">'.");var f=r,p=f.$,c=n(f,["$"]),m=null!=p?p:{};return o(o([],a(z({validationMethod:"validateBeforeMapXml",propTypeName:"child elements",propTypePrefix:"element",valueTypeName:"element",propMapping:i,objectSchema:e,valueObject:c,ctxt:l,allowAdditionalProperties:t}))),a(z({validationMethod:"validateBeforeMapXml",propTypeName:"attributes",propTypePrefix:"@",valueTypeName:"element",propMapping:u,objectSchema:e,valueObject:m,ctxt:l,allowAdditionalProperties:t})))}}function L(e,t){var o=e.elementsSchema,i=e.attributesSchema,l=G(o,"mapXml",t),f=G(i,"mapXml",!1),p=u(i).map((function(e){var r=a(e,2);return r[0],a(r[1],1)[0]}));return function(e,a){var o=e,i=o.$,u=n(o,["$"]),c=null!=i?i:{},m=r(r({},f(c,a)),l(u,a));if(t){var v=d(c,p);Object.keys(v).length>0&&(m.$=v)}return m}}function _(e,t){var o=e.elementsSchema,i=e.attributesSchema,l=G(o,"unmapXml",t),f=G(i,"unmapXml",!1),p=u(i).map((function(e){var r=a(e,2);return r[0],a(r[1],1)[0]}));return function(e,a){var o=e,i=o.$,u=n(o,["$"]),c="object"==typeof i&&null!==i&&t?i:{};return r(r({},l(d(u,p),a)),{$:r(r({},c),f(e,a))})}}function z(e){var r,n=e.validationMethod,t=e.propTypeName,i=e.propTypePrefix,u=e.valueTypeName,f=e.propMapping,p=e.objectSchema,c=e.valueObject,m=e.ctxt,v=e.allowAdditionalProperties,y=[],d=new Set,h=new Set(Object.keys(c));for(var s in f)if(Object.prototype.hasOwnProperty.call(f,s)){var b=p[f[s]][1];h.delete(s),s in c?y.push.apply(y,o([],a(b[n](c[s],m.createChild(i+s,c[s],b))))):(r=b.type()).startsWith("Optional<")||r.startsWith("Nullable<")||d.add(s)}var X=Array.from(h);X.length>0&&!v&&y.push.apply(y,o([],a(m.fail("Some unknown "+t+" were found in the "+u+": "+X.map(l).join(", ")+"."))));var B=Array.from(d);return B.length>0&&y.push.apply(y,o([],a(m.fail("Some "+t+" are missing in the "+u+": "+B.map(l).join(", ")+".")))),y}function D(e,r,n){var t=function(e){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[e[n][0]]=n);return r}(e);return function(a,o){return"object"!=typeof a||null===a?o.fail():Array.isArray(a)?o.fail("Expected value to be of type '"+o.type+"' but found 'Array<"+typeof a+">'."):z({validationMethod:r,propTypeName:"properties",propTypePrefix:"",valueTypeName:"object",propMapping:t,objectSchema:e,valueObject:a,ctxt:o,allowAdditionalProperties:n})}}function G(e,r,n){return function(t,a){var o={},i=t,u=new Set(Object.keys(i));for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var f=e[l],p=f[0],c=i[p];if(u.delete(p),X(f[1].type(),c)){if(void 0===c)continue;o[l]=null}else b(f[1].type(),c)||(o[l]=f[1][r](c,a.createChild(p,c,f[1])))}return n&&u.forEach((function(e){o[e]=i[e]})),o}}function J(e){var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=e[n];r[t[0]]=[n,t[1],t[2]]}return r}function R(e,r,n){var a,o,i=[];n.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return H(i,n)}function q(e,r,n){var a,o,i=[];n.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return H(i,n)}function F(e,r,n){var a,o,i=[];n.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return H(i,n)}function H(e,r){return 1===e.length?[]:0===e.length?r.fail("Could not match against any acceptable type."):r.fail("Matched more than one type. Matched types include: "+e.map((function(e){return e.type()})).join(", "))}function K(e,r,n){var a,o,i=[];n.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].map(r,n):void 0}function Q(e,r,n){var a,o,i=[];n.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].unmap(r,n):void 0}function Y(e,r,n){var a,o,i=[];n.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].mapXml(r,n):void 0}function Z(e,r,n){var a,o,i=[];n.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(r,n).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].unmapXml(r,n):void 0}function ee(e){return"string"==typeof e}e.anyOf=function(e,r,n){return r&&n?function(e,r,n){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(t,a){var o=t&&"object"==typeof t&&t[n];return o&&r[o]?r[o].validateBeforeMap(t,a):x(e,t,a)},validateBeforeUnmap:function(t,a){var o=t&&"object"==typeof t&&t[n];return o&&r[o]?r[o].validateBeforeUnmap(t,a):M(e,t,a)},map:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].map(t,a):S(e,t,a)},unmap:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].unmap(t,a):A(e,t,a)},validateBeforeMapXml:function(t,a){var o=t&&"object"==typeof t&&t[n];return o&&r[o]?r[o].validateBeforeMapXml(t,a):O(e,t,a)},mapXml:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].mapXml(t,a):U(e,t,a)},unmapXml:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].unmapXml(t,a):N(e,t,a)}}}(e,r,n):function(e){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(r,n){return x(e,r,n)},validateBeforeUnmap:function(r,n){return M(e,r,n)},map:function(r,n){return S(e,r,n)},unmap:function(r,n){return A(e,r,n)},validateBeforeMapXml:function(r,n){return O(e,r,n)},mapXml:function(r,n){return U(e,r,n)},unmapXml:function(r,n){return N(e,r,n)}}}(e)},e.array=function(e,r){return{type:function(){return"Array<"+e.type()+">"},validateBeforeMap:function(r,n){return Array.isArray(r)?n.flatmapChildren(i(r),e,(function(r,n){return e.validateBeforeMap(r[1],n)})):n.fail()},validateBeforeUnmap:function(r,n){return Array.isArray(r)?n.flatmapChildren(i(r),e,(function(r,n){return e.validateBeforeUnmap(r[1],n)})):n.fail()},map:function(r,n){return n.mapChildren(i(r),e,(function(r,n){return e.map(r[1],n)}))},unmap:function(r,n){return n.mapChildren(i(r),e,(function(r,n){return e.unmap(r[1],n)}))},mapXml:function(n,t){var a=n;return(null==r?void 0:r.xmlItemName)&&(a=n[r.xmlItemName],t=t.createChild(r.xmlItemName,a,e)),t.mapChildren(i(a),e,(function(r,n){return e.mapXml(r[1],n)}))},unmapXml:function(n,t){var a,o=t.mapChildren(i(n),e,(function(r,n){return e.unmapXml(r[1],n)}));return(null==r?void 0:r.xmlItemName)?((a={})[r.xmlItemName]=o,a):o},validateBeforeMapXml:function(n,t){var a=n;if(null==r?void 0:r.xmlItemName){var o="Expected array to be wrapped with XML element "+r.xmlItemName+".";if("object"!=typeof n||null===n||!(r.xmlItemName in n))return t.fail(o);a=n[r.xmlItemName],t=t.createChild(r.xmlItemName,a,e)}return Array.isArray(a)?t.flatmapChildren(i(a),e,(function(r,n){return e.validateBeforeMapXml(r[1],n)})):t.fail()}}},e.bigint=function(){return c({type:"bigint",validate:p(P),map:y})},e.boolean=function(){return c({type:"boolean",validate:p(C),map:function(e){return"boolean"==typeof e?e:"true"===e}})},e.defaults=function(e,r){return{type:function(){return"Defaults<"+e.type()+","+l(r)+">"},validateBeforeMap:function(n,t){return T(n,r)?[]:e.validateBeforeMap(n,t)},validateBeforeUnmap:function(n,t){return T(n,r)?[]:e.validateBeforeUnmap(n,t)},map:function(n,t){return T(n,r)?r:e.map(n,t)},unmap:function(n,t){return T(n,r)?r:e.unmap(n,t)},validateBeforeMapXml:function(n,t){return T(n,r)?[]:e.validateBeforeMapXml(n,t)},mapXml:function(n,t){return T(n,r)?r:e.mapXml(n,t)},unmapXml:function(n,t){return T(n,r)?r:e.unmapXml(n,t)}}},e.dict=$,e.dictWithXmlEntries=function(e){var n=$(e),o=r({},n);return o.unmapXml=function(e,r){return{entry:u(n.unmapXml(e,r)).map((function(e){var r=a(e,2);return{$:{key:r[0]},_:r[1]}}))}},o.mapXml=function(e,r){var a,o;if(!("entry"in e))return{};var i=e.entry;Array.isArray(i)||(i=[i]);var u={};try{for(var l=t(i),f=l.next();!f.done;f=l.next()){var p=f.value;u[p.$.key]=p._}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return n.mapXml(u,r)},o.validateBeforeMapXml=function(e,r){var a,o;if("object"!=typeof e||null===e)return r.fail();if(!("entry"in e))return[];var i=e.entry;Array.isArray(i)||(i=[i]);var u={};try{for(var l=t(i),f=l.next();!f.done;f=l.next()){var p=f.value;if("object"!=typeof p||null===p)return r.fail('Expected "entry" to be an XML element.');if(!("$"in p)||!("key"in p.$))return r.fail('Expected "entry" element to have an attribute named "key".');var c=p;u[c.$.key]=c._}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return n.validateBeforeMapXml(u,r)},o},e.discriminatedObject=function(e,r,n,t,o){var i=Object.values(n).reverse(),l=function(e,r,a,o){var u=function(e,r,t){if("object"==typeof e&&null!==e&&(t&&function(e,r){return"$"in e&&"object"==typeof e.$&&r in e.$}(e,r)||!t&&r in e)){var a=t?e.$[r]:e[r];if("string"==typeof a&&a in n)return n[a]}}(e,r,o);if(void 0!==u)return u;for(var l in i)if(0===a(i[l]).length)return i[l];return n[t]},f=function(e,n){return l(e,r,(function(r){return r.validateBeforeMap(e,n)}))},p=function(e,n){var t;return l(e,null!==(t=null==o?void 0:o.xmlName)&&void 0!==t?t:r,(function(r){return r.validateBeforeMapXml(e,n)}),null==o?void 0:o.isAttr)},c=function(r,n){return l(r,e,(function(e){return e.validateBeforeUnmap(r,n)}))};return{type:function(){return"DiscriminatedUnion<"+r+",["+u(n).map((function(e){var r=a(e,2);return r[0],r[1].type})).join(",")+"]>"},map:function(e,r){return f(e,r).map(e,r)},unmap:function(e,r){return c(e,r).unmap(e,r)},validateBeforeMap:function(e,r){return f(e,r).validateBeforeMap(e,r)},validateBeforeUnmap:function(e,r){return c(e,r).validateBeforeUnmap(e,r)},mapXml:function(e,r){return p(e,r).mapXml(e,r)},unmapXml:function(e,r){return c(e,r).unmapXml(e,r)},validateBeforeMapXml:function(e,r){return p(e,r).validateBeforeMapXml(e,r)}}},e.expandoObject=k,e.extendExpandoObject=function(e,n){return k(r(r({},e.objectSchema),n))},e.extendObject=function(e,n){return I(r(r({},e.objectSchema),n))},e.extendStrictObject=function(e,n){return E(r(r({},e.objectSchema),n))},e.lazy=function(e){var r,n,t,i=(r=e,t=!1,function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return t?n:(t=!0,n=r.apply(this,e))});return{type:function(){return"Lazy<"+i().type()+">"},map:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i()).map.apply(e,o([],a(r)))},unmap:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i()).unmap.apply(e,o([],a(r)))},validateBeforeMap:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i()).validateBeforeMap.apply(e,o([],a(r)))},validateBeforeUnmap:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i()).validateBeforeUnmap.apply(e,o([],a(r)))},mapXml:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i()).mapXml.apply(e,o([],a(r)))},unmapXml:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i()).unmapXml.apply(e,o([],a(r)))},validateBeforeMapXml:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=i()).validateBeforeMapXml.apply(e,o([],a(r)))}}},e.literal=function(e){return c({type:"Literal<"+l(e)+">",validate:p((function(r){return e===r})),map:function(){return e}})},e.nullable=function(e){return{type:function(){return"Nullable<"+e.type()+">"},validateBeforeMap:function(r,n){return s(r)?[]:e.validateBeforeMap(r,n)},validateBeforeUnmap:function(r,n){return null===r?[]:e.validateBeforeUnmap(r,n)},map:function(r,n){return s(r)?null:e.map(r,n)},unmap:function(r,n){return null===r?null:e.unmap(r,n)},validateBeforeMapXml:function(r,n){return null===r?[]:e.validateBeforeMapXml(r,n)},mapXml:function(r,n){return null===r?null:e.mapXml(r,n)},unmapXml:function(r,n){return null===r?null:e.unmapXml(r,n)}}},e.number=function(){return c({type:"number",validate:p(m),map:v})},e.numberEnum=function(e,r){void 0===r&&(r=!1);var n=p(function(e,r){void 0===r&&(r=!1);var n=Object.values(e);return r?function(e){return m(e)}:function(e){return m(e)&&n.includes(v(e))}}(e,r));return c({type:"Enum<"+Object.values(e).filter((function(e){return"number"==typeof e})).join(",")+">",map:v,validate:n})},e.object=I,e.oneOf=function(e,r,n){return r&&n?function(e,r,n){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(t,a){var o=t&&"object"==typeof t&&t[n];return o&&r[o]?r[o].validateBeforeMap(t,a):R(e,t,a)},validateBeforeUnmap:function(t,a){var o=t&&"object"==typeof t&&t[n];return o&&r[o]?r[o].validateBeforeUnmap(t,a):q(e,t,a)},map:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].map(t,a):K(e,t,a)},unmap:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].unmap(t,a):Q(e,t,a)},validateBeforeMapXml:function(t,a){var o=t&&"object"==typeof t&&t[n];return o&&r[o]?r[o].validateBeforeMapXml(t,a):F(e,t,a)},mapXml:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].mapXml(t,a):Y(e,t,a)},unmapXml:function(t,a){var o=t&&t[n];return o&&r[o]?r[o].unmapXml(t,a):Z(e,t,a)}}}(e,r,n):function(e){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(r,n){return R(e,r,n)},validateBeforeUnmap:function(r,n){return q(e,r,n)},map:function(r,n){return K(e,r,n)},unmap:function(r,n){return Q(e,r,n)},validateBeforeMapXml:function(r,n){return F(e,r,n)},mapXml:function(r,n){return Y(e,r,n)},unmapXml:function(r,n){return Z(e,r,n)}}}(e)},e.optional=function(e){return{type:function(){return"Optional<"+e.type()+">"},validateBeforeMap:function(r,n){return s(r)?[]:e.validateBeforeMap(r,n)},validateBeforeUnmap:function(r,n){return void 0===r?[]:e.validateBeforeUnmap(r,n)},map:function(r,n){return s(r)?void 0:e.map(r,n)},unmap:function(r,n){return void 0===r?void 0:e.unmap(r,n)},validateBeforeMapXml:function(r,n){return void 0===r?[]:e.validateBeforeMapXml(r,n)},mapXml:function(r,n){return void 0===r?void 0:e.mapXml(r,n)},unmapXml:function(r,n){return void 0===r?void 0:e.unmapXml(r,n)}}},e.strictObject=E,e.string=function(){return c({type:"string",validate:p(ee),map:f})},e.stringEnum=function(e,r){void 0===r&&(r=!1);var n=p(function(e,r){void 0===r&&(r=!1);var n=Object.values(e);return r?function(e){return"string"==typeof e}:function(e){return"string"==typeof e&&n.includes(e)}}(e,r));return c({type:"Enum<"+Object.values(e).map(l).join(",")+">",map:f,validate:n})},e.unknown=function(){return c({type:"unknown",validate:function(){return[]},map:f})},e.validateAndMap=function(e,r){var n=g(B(e,r.type())),t=r.validateBeforeMap(e,n);return 0===t.length?X(r.type(),e)?{errors:!1,result:e}:{errors:!1,result:r.map(e,n)}:{errors:t}},e.validateAndMapXml=function(e,r){var n=g(B(e,r.type())),t=r.validateBeforeMapXml(e,n);return 0===t.length?{errors:!1,result:r.mapXml(e,n)}:{errors:t}},e.validateAndUnmap=function(e,r){var n=g(B(e,r.type())),t=r.validateBeforeUnmap(e,n);return 0===t.length?{errors:!1,result:r.unmap(e,n)}:{errors:t}},e.validateAndUnmapXml=function(e,r){var n=g(B(e,r.type())),t=r.validateBeforeUnmap(e,n);return 0===t.length?{errors:!1,result:r.unmapXml(e,n)}:{errors:t}}},"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).ApimaticSchema={});
